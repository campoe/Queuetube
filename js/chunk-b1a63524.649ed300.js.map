{"version":3,"sources":["webpack:///./src/views/RemotePage.vue?4b1f","webpack:///./src/views/RemotePage.vue?e103","webpack:///src/views/RemotePage.vue","webpack:///./src/views/RemotePage.vue?6a0a","webpack:///./src/views/RemotePage.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemotePage_vue_vue_type_style_index_0_id_624c8455_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemotePage_vue_vue_type_style_index_0_id_624c8455_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","submit","$event","preventDefault","searchRequest","attrs","type","placeholder","model","value","callback","$$v","query","trim","expression","variant","name","video","selectedVideo","startTime","duration","currentVideo","ended","playNext","skip","_v","sort","onSort","playlist","_l","result","index","key","id","click","removeVideo","right-align","slot","fluid","src","snippet","thumbnails","default","url","alt","_s","title","scale","selectVideo","staticRenderFns","RemotePagevue_type_script_lang_js_","data","searchResults","components","QueuetubeFrame","Draggable","vuedraggable_default","a","computed","Object","objectSpread","vuex_esm","get","$store","state","remote","set","val","commit","mutations_type","mounted","fetchPlaylist","methods","promise_default","all","dispatch","actions_type","roomName","length","_this","youtube_api_search_default","term","limit","results","_this2","curVid","then","oldStartTime","evt","oldIndex","newIndex","views_RemotePagevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-b1a63524.649ed300.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemotePage.vue?vue&type=style&index=0&id=624c8455&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemotePage.vue?vue&type=style&index=0&id=624c8455&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"mt-4\"},[_c('b-row',[_c('b-col',[_c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.searchRequest($event)}}},[_c('b-form-group',[_c('b-input-group',[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Search...\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"query\"}}),_c('b-input-group-append',[_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_c('v-icon',{attrs:{\"name\":\"search\"}})],1)],1)],1)],1)],1)],1)],1),_c('b-row',[_c('b-col',[(_vm.selectedVideo)?_c('queuetube-frame',{attrs:{\"video\":_vm.selectedVideo,\"startTime\":_vm.startTime,\"duration\":_vm.currentVideo.duration},on:{\"ended\":_vm.playNext,\"skip\":_vm.playNext}}):_c('div',[_c('h4',[_vm._v(\"Select a video\")])]),_c('draggable',{staticClass:\"playlist-wrapper\",on:{\"sort\":_vm.onSort},model:{value:(_vm.playlist),callback:function ($$v) {_vm.playlist=$$v},expression:\"playlist\"}},_vm._l((_vm.playlist),function(result,index){return _c('b-card',{key:index,staticClass:\"playlist-card mt-2 ml-0\",attrs:{\"value\":result,\"id\":'playlist-item-' + index},on:{\"click\":function($event){$event.preventDefault();_vm.removeVideo(index)}}},[_c('b-media',{staticClass:\"playlist-media\",attrs:{\"right-align\":\"\"}},[_c('b-img',{attrs:{\"slot\":\"aside\",\"fluid\":\"\",\"src\":result.video.snippet.thumbnails.default.url,\"alt\":\"\"},slot:\"aside\"}),_c('h6',[_vm._v(_vm._s(result.video.snippet.title))])],1),_c('div',{staticClass:\"playlist-overlay\"},[_c('v-icon',{attrs:{\"name\":\"minus\",\"scale\":\"2\"}})],1)],1)}),1)],1),_c('b-col',_vm._l((_vm.searchResults),function(result,index){return _c('b-card',{key:index,staticClass:\"mt-2 ml-0\",attrs:{\"value\":result},on:{\"click\":function($event){$event.preventDefault();_vm.selectVideo(result)}}},[_c('b-media',{attrs:{\"right-align\":\"\"}},[_c('b-img',{attrs:{\"slot\":\"aside\",\"fluid\":\"\",\"src\":result.snippet.thumbnails.default.url,\"alt\":\"\"},slot:\"aside\"}),_c('h6',[_vm._v(_vm._s(result.snippet.title))])],1)],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <b-container class=\"mt-4\">\n\n        <b-row>\n            <b-col>\n\n                <b-form @submit.prevent=\"searchRequest\">\n                    <b-form-group>\n                        <b-input-group>\n                            <b-form-input v-model.trim=\"query\" type=\"text\" placeholder=\"Search...\"></b-form-input>\n                            <b-input-group-append>\n                                <b-button variant=\"primary\" type=\"submit\">\n                                    <v-icon name=\"search\"/>\n                                </b-button>\n                            </b-input-group-append>\n                        </b-input-group>\n                    </b-form-group>\n                </b-form>\n\n            </b-col>\n        </b-row>\n\n        <b-row>\n            <b-col>\n\n                <queuetube-frame v-if=\"selectedVideo\" :video=\"selectedVideo\" :startTime=\"startTime\"\n                                 :duration=\"currentVideo.duration\" @ended=\"playNext\" @skip=\"playNext\"></queuetube-frame>\n                <div v-else>\n                    <h4>Select a video</h4>\n                </div>\n\n                <draggable v-model=\"playlist\" @sort=\"onSort\" class=\"playlist-wrapper\">\n                    <b-card class=\"playlist-card mt-2 ml-0\" v-for=\"(result, index) in playlist\" :key=\"index\"\n                            :value=\"result\"\n                            :id=\"'playlist-item-' + index\" @click.prevent=\"removeVideo(index)\">\n                        <b-media right-align class=\"playlist-media\">\n                            <b-img fluid slot=\"aside\" :src=\"result.video.snippet.thumbnails.default.url\" alt=\"\"></b-img>\n                            <h6>{{ result.video.snippet.title }}</h6>\n                        </b-media>\n                        <div class=\"playlist-overlay\">\n                            <v-icon name=\"minus\" scale=\"2\"/>\n                        </div>\n                    </b-card>\n                </draggable>\n\n            </b-col>\n\n            <b-col>\n\n                <b-card class=\"mt-2 ml-0\" v-for=\"(result, index) in searchResults\" :key=\"index\" :value=\"result\"\n                        @click.prevent=\"selectVideo(result)\">\n                    <b-media right-align>\n                        <b-img fluid slot=\"aside\" :src=\"result.snippet.thumbnails.default.url\" alt=\"\"></b-img>\n                        <h6>{{ result.snippet.title }}</h6>\n                    </b-media>\n                </b-card>\n\n            </b-col>\n        </b-row>\n\n    </b-container>\n</template>\n\n<script>\n    import Draggable from 'vuedraggable'\n    import YouTubeSearch from 'youtube-api-search'\n    import QueuetubeFrame from '@/components/QueuetubeFrame'\n    import {\n        CLEAR_CURRENT_VIDEO,\n        FETCH_CURRENT_VIDEO,\n        FETCH_NEXT_VIDEO,\n        FETCH_PLAYLIST,\n        POP_PLAYLIST,\n        PUSH_PLAYLIST,\n        REORDER_PLAYLIST\n    } from '@/store/actions.type'\n    import {mapGetters} from 'vuex'\n    import {SET_PLAYLIST} from '@/store/mutations.type'\n\n    export default {\n        name: 'RemotePage',\n        data() {\n            return {\n                searchResults: [],\n                query: null\n            }\n        },\n        components: {\n            QueuetubeFrame,\n            Draggable\n        },\n        computed: {\n            ...mapGetters(['currentVideo', 'roomName']),\n            playlist: {\n                get() {\n                    return this.$store.state.remote.playlist\n                },\n                set(val) {\n                    this.$store.commit(SET_PLAYLIST, {playlist: val})\n                }\n            },\n            selectedVideo() {\n                if (!this.currentVideo) return null\n                return this.currentVideo.video\n            },\n            startTime() {\n                if (!this.currentVideo) return 0\n                return this.currentVideo.startTime\n            }\n        },\n        mounted() {\n            this.fetchPlaylist()\n        },\n        methods: {\n            fetchPlaylist() {\n                Promise.all([\n                    this.$store.dispatch(FETCH_PLAYLIST, {roomName: this.roomName}),\n                    this.$store.dispatch(FETCH_CURRENT_VIDEO, {roomName: this.roomName})\n                ])\n                if (!this.currentVideo && this.playlist.length > 0) {\n                    this.playNext();\n                }\n            },\n            searchRequest() {\n                YouTubeSearch({\n                    key: process.env.VUE_APP_BROWSER_YOUTUBE_API_KEY,\n                    term: this.query,\n                    limit: 25\n                }, results => {\n                    this.searchResults = results\n                })\n            },\n            selectVideo(video) {\n                this.$store.dispatch(PUSH_PLAYLIST, {roomName: this.roomName, video: video})\n            },\n            playNext() {\n                const curVid = this.currentVideo\n                this.$store.dispatch(CLEAR_CURRENT_VIDEO, {roomName: this.roomName}).then(() => {\n                    if (this.playlist.length > 0) {\n                        let oldStartTime = null\n                        if (curVid) oldStartTime = curVid.startTime\n                        this.$store.dispatch(FETCH_NEXT_VIDEO, {roomName: this.roomName, oldStartTime: oldStartTime})\n                    }\n                })\n            },\n            removeVideo(index) {\n                this.$store.dispatch(POP_PLAYLIST, {roomName: this.roomName, index: index})\n            },\n            onSort(evt) {\n                this.$store.dispatch(REORDER_PLAYLIST, {\n                    roomName: this.roomName,\n                    oldIndex: evt.oldIndex,\n                    newIndex: evt.newIndex\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .card:hover {\n        background-color: #eeeeee;\n    }\n\n    .playlist-overlay {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        height: 100%;\n        width: 100%;\n        opacity: 0;\n        transition: .5s ease;\n        background-color: #ee2040;\n        transform: translate(-50%, -50%);\n        -ms-transform: translate(-50%, -50%);\n        text-align: center;\n        color: white;\n\n        & .fa-icon {\n            margin: 20px;\n            position: absolute;\n            bottom: 0;\n            left: 0;\n        }\n    }\n\n    .playlist-card:hover .playlist-overlay {\n        opacity: 0.8;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemotePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemotePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RemotePage.vue?vue&type=template&id=624c8455&scoped=true&\"\nimport script from \"./RemotePage.vue?vue&type=script&lang=js&\"\nexport * from \"./RemotePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RemotePage.vue?vue&type=style&index=0&id=624c8455&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"624c8455\",\n  null\n  \n)\n\ncomponent.options.__file = \"RemotePage.vue\"\nexport default component.exports"],"sourceRoot":""}